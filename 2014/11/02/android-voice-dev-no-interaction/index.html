<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Android 语音开发（无交互） | 月光独奏</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="ANDROID SDK TTS Package Summary


Starting the TTS engine
123456TextToSpeech tts = new TextToSpeech(this, new OnInitListener() {    public void onInit(int status){         if (status == TextToSpeech.">
<meta property="og:type" content="article">
<meta property="og:title" content="Android 语音开发（无交互）">
<meta property="og:url" content="http://yoursite.com/2014/11/02/android-voice-dev-no-interaction/">
<meta property="og:site_name" content="月光独奏">
<meta property="og:description" content="ANDROID SDK TTS Package Summary


Starting the TTS engine
123456TextToSpeech tts = new TextToSpeech(this, new OnInitListener() {    public void onInit(int status){         if (status == TextToSpeech.">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Android 语音开发（无交互）">
<meta name="twitter:description" content="ANDROID SDK TTS Package Summary


Starting the TTS engine
123456TextToSpeech tts = new TextToSpeech(this, new OnInitListener() {    public void onInit(int status){         if (status == TextToSpeech.">

  
    <link rel="alternative" href="/atom.xml" title="月光独奏" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<div class="profilepic">
			<img src="http://msolo-programmer.qiniudn.com/msolo_me_square.png">
		</div>

		<hgroup>
		  <h1 class="header-author"><a href="/">月光独奏</a></h1>
		</hgroup>

		
		<p class="header-subtitle">软件设计及开发者</p>
		

		
			<div class="onoffswitch">
			    <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch" checked>
			    <label class="onoffswitch-label" for="myonoffswitch">
			        <span class="onoffswitch-inner"></span>
			        <span class="onoffswitch-switch"></span>
			    </label>
			</div>
		

		<div class="switch-area">
			<section class="first-part">
				<nav class="header-menu">
					<ul>
					
						<li><a href="/">主页</a></li>
			        
						<li><a href="/archives">所有文章</a></li>
			        
						<li><a href="/categories/随笔">随笔</a></li>
			        
						<li><a href="/categories/摘录">摘录</a></li>
			        
						<li><a href="/categories/书籍">书籍</a></li>
			        
						<li><a href="/categories/Web">Web</a></li>
			        
						<li><a href="/categories/C-Cpp-Go">C/Cpp/Go</a></li>
			        
						<li><a href="/categories/java-android">Java/Android</a></li>
			        
						<li><a href="/categories/project">Project</a></li>
			        
						<li><a href="/categories/程序员日志">程序员日志</a></li>
			        
						<li><a href="/about">关于</a></li>
			        
					</ul>
				</nav>
				<nav class="header-nav">
					<div class="social">
						
							<a class="github" target="_blank" href="https://github.com/mSoloMoon" title="github">github</a>
				        
							<a class="weibo" target="_blank" href="http://t.qq.com/zhengguangyu_msolo" title="weibo">weibo</a>
				        
							<a class="email" target="_blank" href="mailto://yuezhi.msolo@outlook.com" title="email">email</a>
				        
							<a class="qq" target="_blank" href="/212499714" title="qq">qq</a>
				        
					</div>
				</nav>
			</section>
			
			
			<section class="second-part">
				<div class="widget tagcloud">
					<a href="/tags/Android/" style="font-size: 13.75px;">Android</a><a href="/tags/C-C/" style="font-size: 11.25px;">C/C++</a><a href="/tags/Go/" style="font-size: 11.25px;">Go</a><a href="/tags/IT问题录/" style="font-size: 11.25px;">IT问题录</a><a href="/tags/IT面试/" style="font-size: 16.25px;">IT面试</a><a href="/tags/Java/" style="font-size: 12.50px;">Java</a><a href="/tags/Java-Web/" style="font-size: 11.25px;">Java Web</a><a href="/tags/书籍笔记/" style="font-size: 10.00px;">书籍笔记</a><a href="/tags/历史/" style="font-size: 11.25px;">历史</a><a href="/tags/哲学/" style="font-size: 11.25px;">哲学</a><a href="/tags/思考/" style="font-size: 15.00px;">思考</a><a href="/tags/摘录/" style="font-size: 16.25px;">摘录</a><a href="/tags/生活记录/" style="font-size: 17.50px;">生活记录</a><a href="/tags/软件开发/" style="font-size: 20.00px;">软件开发</a><a href="/tags/软件框架/" style="font-size: 12.50px;">软件框架</a><a href="/tags/随笔/" style="font-size: 18.75px;">随笔</a><a href="/tags/项目/" style="font-size: 12.50px;">项目</a>
				</div>
			</section>
			
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay"></div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="http://msolo-programmer.qiniudn.com/msolo_me_square.png">
			</div>

			<hgroup>
			  <h1 class="header-author"><a href="/">月光独奏</a></h1>
			</hgroup>
			
			<p class="header-subtitle">软件设计及开发者</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/categories/随笔">随笔</a></li>
		        
					<li><a href="/categories/摘录">摘录</a></li>
		        
					<li><a href="/categories/书籍">书籍</a></li>
		        
					<li><a href="/categories/Web">Web</a></li>
		        
					<li><a href="/categories/C-Cpp-Go">C/Cpp/Go</a></li>
		        
					<li><a href="/categories/java-android">Java/Android</a></li>
		        
					<li><a href="/categories/project">Project</a></li>
		        
					<li><a href="/categories/程序员日志">程序员日志</a></li>
		        
					<li><a href="/about">关于</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/mSoloMoon" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://t.qq.com/zhengguangyu_msolo" title="weibo">weibo</a>
			        
						<a class="email" target="_blank" href="mailto://yuezhi.msolo@outlook.com" title="email">email</a>
			        
						<a class="qq" target="_blank" href="/212499714" title="qq">qq</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <article id="post-android-voice-dev-no-interaction" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2014/11/02/android-voice-dev-no-interaction/" class="article-date">
  	<time datetime="2014-11-02T07:27:43.000Z" itemprop="datePublished">11月 2 2014</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/java-android/">java-android</a>
  </div>

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/软件开发/">软件开发</a></li></ul>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Android 语音开发（无交互）
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p><a href="http://developer.android.com/reference/android/speech/tts/package-summary.html" target="_blank" rel="external">ANDROID SDK TTS Package Summary</a></p>
</blockquote>
<p><br></p>
<h3 id="Starting_the_TTS_engine">Starting the TTS engine</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">TextToSpeech tts = <span class="keyword">new</span> TextToSpeech(<span class="keyword">this</span>, <span class="keyword">new</span> OnInitListener() {</div><div class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onInit</span>(<span class="keyword">int</span> status){ </div><div class="line">        <span class="keyword">if</span> (status == TextToSpeech.SUCCESS) </div><div class="line">              speak(<span class="string">"Hello world"</span>, TextToSpeech.QUEUE_ADD, <span class="keyword">null</span>); </div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>

<ul>
<li>QUEUE_ADD: The new entry placed at the end of the playback queue.</li>
<li>QUEUE_FLUSH: All entries in the playback queue are dropped and replaced by the new entry.</li>
</ul>
<hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initTTS</span>() { 		</div><div class="line">	disableSpeakButton(); 			<span class="comment">//Disable speak button during the initialization of the text to speech engine</span></div><div class="line">	</div><div class="line">	<span class="comment">//Check if a the engine is installed, when the check is finished, the onActivityResult method is executed</span></div><div class="line">	Intent checkIntent = <span class="keyword">new</span> Intent(TextToSpeech.Engine.ACTION_CHECK_TTS_DATA);  </div><div class="line">	startActivityForResult(checkIntent, TTS_DATA_CHECK); 		</div><div class="line">}</div><div class="line"></div><div class="line"><span class="javadoc">/**</span></div><div class="line"> *  Callback from check for text to speech engine installed</div><div class="line"> *  If positive, then creates a new &lt;code&gt;TextToSpeech&lt;/code&gt; instance which will be called when user clicks on the 'Speak' button</div><div class="line"> *  If negative, creates an intent to install a &lt;code&gt;TextToSpeech&lt;/code&gt; engine</div><div class="line">*/	</div><div class="line"><span class="annotation">@Override</span></div><div class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onActivityResult</span>(<span class="keyword">int</span> requestCode, <span class="keyword">int</span> resultCode, Intent data) {  </div><div class="line">	</div><div class="line">	<span class="keyword">if</span> (requestCode == TTS_DATA_CHECK) { 		</div><div class="line">		<span class="comment">// Check that the resultCode is CHECK_VOICE_DATA_PASS, it was the TTS which result is being processed and not any other activity</span></div><div class="line">		<span class="keyword">if</span> (resultCode == TextToSpeech.Engine.CHECK_VOICE_DATA_PASS) {  </div><div class="line">			tts = <span class="keyword">new</span> TextToSpeech(<span class="keyword">this</span>, <span class="keyword">new</span> OnInitListener() { 		<span class="comment">// Create a TextToSpeech instance  </span></div><div class="line">				<span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onInit</span>(<span class="keyword">int</span> status) {</div><div class="line">					<span class="keyword">if</span> ( (status == TextToSpeech.SUCCESS) &&  (tts.isLanguageAvailable(Locale.US) &gt;= <span class="number">0</span>) )	{</div><div class="line">							tts.setLanguage(Locale.US);</div><div class="line">					}</div><div class="line">					enableSpeakButton();</div><div class="line">				}</div><div class="line">			}); </div><div class="line">		} <span class="keyword">else</span> {  <span class="comment">// Install missing data  </span></div><div class="line">			PackageManager pm = getPackageManager();</div><div class="line">			Intent installIntent = <span class="keyword">new</span> Intent();</div><div class="line">			installIntent.setAction(TextToSpeech.Engine.ACTION_INSTALL_TTS_DATA);</div><div class="line">			ResolveInfo resolveInfo = pm.resolveActivity( installIntent, PackageManager.MATCH_DEFAULT_ONLY );</div><div class="line"></div><div class="line">			<span class="keyword">if</span>( resolveInfo == <span class="keyword">null</span> ) {</div><div class="line">				Toast.makeText(TTSWithIntent.<span class="keyword">this</span>, </div><div class="line">											<span class="string">"There is no TTS installed, please download it from Google Play"</span>, </div><div class="line">											Toast.LENGTH_LONG).show();</div><div class="line">			} <span class="keyword">else</span> {</div><div class="line">			  startActivity( installIntent );</div><div class="line">			}</div><div class="line">		}  </div><div class="line">	}  </div><div class="line">}</div></pre></td></tr></table></figure>

<a id="more"></a>

<h3 id="Speech_Recognition">Speech Recognition</h3>
<p>Automatic Speech Recognition(ASR), the process that converts spoken words to written text.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">Button speak = (Button) findViewById(R.id.speech_btn); </div><div class="line">speak.setOnClickListener(</div><div class="line">       <span class="keyword">new</span> View.OnClickListener() { </div><div class="line">       <span class="annotation">@Override</span> </div><div class="line">       <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span>(View v) { </div><div class="line">             <span class="comment">//Speech recognition does not currently work on simulated devices, </span></div><div class="line">             <span class="comment">//it is the user attempting to run the app in a simulated device, and they will get a Toast </span></div><div class="line">             <span class="keyword">if</span>( <span class="string">"generic"</span>.equals(Build.BRAND. toLowerCase()) ){ </div><div class="line">                Toast.makeText(getApplicationContext(),</div><div class="line">															<span class="string">"ASR is not supported on virtual devices"</span>,  </div><div class="line">        											Toast.LENGTH_SHORT).show(); </div><div class="line">             } <span class="keyword">else</span> { </div><div class="line">                setRecognitionParams(); 	<span class="comment">//Read parameters from GUI </span></div><div class="line">                listen(); 	<span class="comment">//Set up the recognizer and start listening </span></div><div class="line">             } </div><div class="line">       } </div><div class="line">});</div><div class="line"></div><div class="line">Intent intent = <span class="keyword">new</span> Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH); 		<span class="comment">// Specify language model</span></div><div class="line">intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, languageModel);</div><div class="line"><span class="comment">// Specify how many results to receive. Results listed in order of confidence</span></div><div class="line">intent.putExtra(RecognizerIntent.EXTRA_MAX_RESULTS, numberRecoResults);</div><div class="line">startActivityForResult(intent, ASR_CODE);</div></pre></td></tr></table></figure>

<p>EXTRA_LANGUAGE_MODEL</p>
<ul>
<li>LANGUAGE_MODEL_FREE_FORM: This language model is based on free-form speech recognition and is used to recognize free-form speech, for example, in the dictation of an e-mail.</li>
<li>LANGUAGE_MODEL_WEB_SEARCH: This language model is based on web search terms and is used to model more restricted forms of input such as shorter, search-like phrases, for example, flights to London , weather in Madrid, and so on.</li>
</ul>
<p>Other extras:</p>
<ul>
<li>EXTRA_PROMPT: This provides a text prompt that is shown to users when they are asked to speak.</li>
<li>EXTRA_MAX_RESULTS: This integer value specifies a limit on the maximum number of results to be returned. If omitted, the recognizer will choose how many results to return. The results are the different possible texts corresponding to the user’s input and sorted from most to less probable.</li>
<li>EXTRA_LANGUAGE: This specifies a language that can be used instead of the default provided on the device. </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onActivityResult</span>(<span class="keyword">int</span> requestCode, <span class="keyword">int</span> resultCode, Intent data) { </div><div class="line">    <span class="keyword">if</span> (requestCode == ASR_CODE) { </div><div class="line">        <span class="keyword">if</span> (resultCode == RESULT_OK) { </div><div class="line">           <span class="comment">//Retrieves the N-best list and the confidences from the ASR result </span></div><div class="line">           ArrayList&lt;String&gt; nBestList = data.getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS); </div><div class="line">           <span class="keyword">float</span>[] nBestConfidences = data.getFloatArrayExtra(RecognizerIntent.EXTRA_CONFIDENCE_SCORES;</div><div class="line"> </div><div class="line">           <span class="comment">// Creates a collection of strings, each one with a recognition result and its confidence, e.g. "Phrase matched (conf: 0.5)" </span></div><div class="line">           ArrayList&lt;String&gt; nBestView = <span class="keyword">new</span> ArrayList&lt;String&gt;(); </div><div class="line">           <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nBestList.size(); i++){ </div><div class="line">               <span class="keyword">if</span>(nBestConfidences[i]&lt;<span class="number">0</span>) {</div><div class="line">               			nBestView.add(nBestList.get(i) + <span class="string">" (no confidence value available)"</span>); </div><div class="line">               } <span class="keyword">else</span> { </div><div class="line">                		nBestView.add(nBestList.get(i) + <span class="string">" (conf: "</span> + nBestConfidences[i] + <span class="string">")"</span>); </div><div class="line">			   			}</div><div class="line">           } </div><div class="line">           <span class="comment">//Includes the collection in the listview of the GUI </span></div><div class="line">           setListView(nBestView); </div><div class="line">       } <span class="keyword">else</span> { </div><div class="line">           Log.e(LOGTAG, <span class="string">"Recognition was not successful"</span>); </div><div class="line">      } </div><div class="line">   } </div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="ASRWithLib_app">ASRWithLib app</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line"><span class="javadoc">/**</span></div><div class="line"> * Creates the single SpeechRecognizer instance and assigns a listener</div><div class="line"> *<span class="javadoctag"> @see</span> CustomRecognitionListener.java</div><div class="line"> *<span class="javadoctag"> @param</span> ctx context of the interaction</div><div class="line"> * */</div><div class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">createRecognizer</span>(Context ctx) {</div><div class="line">		<span class="keyword">this</span>.ctx = ctx;</div><div class="line">		PackageManager packManager = ctx.getPackageManager();</div><div class="line">		</div><div class="line">		<span class="comment">// find out whether speech recognition is supported</span></div><div class="line">		List&lt;ResolveInfo&gt; intActivities = packManager.queryIntentActivities(<span class="keyword">new</span> Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH), <span class="number">0</span>);</div><div class="line">		<span class="keyword">if</span> (intActivities.size() != <span class="number">0</span>) {</div><div class="line">			myASR = SpeechRecognizer.createSpeechRecognizer(ctx);</div><div class="line">			myASR.setRecognitionListener(<span class="keyword">this</span>);</div><div class="line">		} <span class="keyword">else</span> {</div><div class="line">			myASR = <span class="keyword">null</span>;</div><div class="line">		}</div><div class="line">}</div><div class="line"></div><div class="line"><span class="javadoc">/**</span></div><div class="line"> * Starts speech recognition</div><div class="line"> *<span class="javadoctag"> @param</span> languageModel Type of language model used (see Chapter 3 in the book for further details)</div><div class="line"> *<span class="javadoctag"> @param</span> maxResults Maximum number of recognition results</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">listen</span>(String languageModel, <span class="keyword">int</span> maxResults) <span class="keyword">throws</span> Exception{</div><div class="line"></div><div class="line">	<span class="keyword">if</span>( (languageModel.equals(RecognizerIntent.LANGUAGE_MODEL_FREE_FORM) || </div><div class="line">			languageModel.equals(RecognizerIntent.LANGUAGE_MODEL_WEB_SEARCH)) && (maxResults&gt;=<span class="number">0</span>)) {</div><div class="line">		Intent intent = <span class="keyword">new</span> Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);</div><div class="line"></div><div class="line">		<span class="comment">// Specify the calling package to identify the application</span></div><div class="line">		intent.putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, ctx.getPackageName());</div><div class="line">		<span class="comment">//Caution: be careful not to use: getClass().getPackage().getName());</span></div><div class="line"></div><div class="line">		<span class="comment">// Specify language model</span></div><div class="line">		intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, languageModel);</div><div class="line">		<span class="comment">// Specify how many results to receive. Results listed in order of confidence</span></div><div class="line">		intent.putExtra(RecognizerIntent.EXTRA_MAX_RESULTS, maxResults);  </div><div class="line"></div><div class="line">		myASR.startListening(intent);</div><div class="line">	} <span class="keyword">else</span> {</div><div class="line">		<span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"Invalid params to listen method"</span>); <span class="comment">//If the input parameters are not valid, it throws an exception</span></div><div class="line">	}</div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onResults</span>(Bundle results) {</div><div class="line">		processAsrResults(results.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION),</div><div class="line">										results.getFloatArray(SpeechRecognizer.CONFIDENCE_SCORES));</div><div class="line">}</div></pre></td></tr></table></figure>



<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.RECORD_AUDIO"</span>/&gt;</span></div></pre></td></tr></table></figure>




      
    </div>
    <footer class="article-footer">
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2014/11/02/life-daily-log-141102/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">&lt;</strong>
      <div class="article-nav-title">
        
          生活点滴 - 141102
        
      </div>
    </a>
  
  
    <a href="/2014/11/01/life-daily-log-141101/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">生活点滴 - 141101</div>
      <strong class="article-nav-caption">&gt;</strong>
    </a>
  
</nav>

  
</article>


<div class="share">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到：</span>
		<a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
		<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>



<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="android-voice-dev-no-interaction" data-title="Android 语音开发（无交互）" data-url="http://yoursite.com/2014/11/02/android-voice-dev-no-interaction/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"true"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>




      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2014 月光独奏
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">

  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>

  <script src="/js/main.js" type="text/javascript"></script>


  </div>
</body>
</html>